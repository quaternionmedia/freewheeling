---
-
    name: interface
    children:
        -
            name: bindings
            children:
                -
                    name: declare
                    attributes:
                        type: int
                        init: 1
                        var: VAR_panorama
                -
                    name: declare
                    attributes:
                        type: int
                        init: 351
                        var: VAR_loopid_panorama
                -
                    name: declare
                    attributes:
                        init: 0>127
                        var: VAR_noterange
                        type: range
                -
                    name: declare
                    attributes:
                        init: 0
                        var: VAR_panoramacapture
                        type: int
                -
                    name: declare
                    attributes:
                        init: 0
                        var: VAR_panoramacapture_set
                        type: char
                -
                    name: binding
                    attributes:
                        parameters1: layoutid=0 and                   loopid=VAR_noterange+VAR_loopid_panorama
                        output1: video-show-loop
                        output2: set-load-loop-id
                        input: start-interface
                        parameters2: loopid=VAR_noterange+VAR_loopid_panorama
                -
                    name: binding
                    attributes:
                        conditions: VAR_panoramacapture_set=1 and keydown=1
                        input: midikey
                        output1: set-variable
                        parameters2: var=VAR_panoramacapture_set and value=0
                        parameters1: var=VAR_panoramacapture and value=VAR_noterange
                        output2: set-variable
                -
                    name: binding
                    attributes:
                        parameters: loopid=VAR_panoramacapture+VAR_loopid_panorama and slide=VAR_slide_speed/2
                        conditions: VAR_keyheld_up=1 and controlnum=VAR_noterange and                  controlval=VAR_switch_on
                        input: midicontroller
                        output: slide-loop-amplifier
                -
                    name: binding
                    attributes:
                        parameters: loopid=VAR_panoramacapture+VAR_loopid_panorama and slide=-VAR_slide_speed/2
                        conditions: VAR_keyheld_down=1 and controlnum=VAR_noterange and                  controlval=VAR_switch_on
                        input: midicontroller
                        output: slide-loop-amplifier
                -
                    name: binding
                    attributes:
                        output1: erase-loop
                        output2: set-variable
                        input: midicontroller
                        parameters2: var=VAR_xferloop and value=0
                        parameters1: loopid=VAR_panoramacapture+VAR_loopid_panorama
                        conditions: VAR_keyheld_space=1 and controlnum=VAR_noterange and                   controlval=VAR_switch_on
                # -
                #     name: binding
                #     attributes:
                #         output1: trigger-loop
                #         output2: set-variable
                #         output3: set-variable
                #         parameters2: var=VAR_xferloop and value=1
                #         parameters1: overdub=1 and overdubfeedback=VAR_overdubfeedback and                   loopid=VAR_panoramacapture+VAR_loopid_panorama and vol=1.0
                #         input: midicontroller
                #         parameters3: var=VAR_xferidx and                                          value=VAR_panoramacapture+VAR_loopid_panorama
                #         conditions: VAR_overdubmode=1 and controlnum=VAR_noterange                  and controlval=VAR_switch_on
                # -
                #     name: binding
                #     attributes:
                #         output1: trigger-loop
                #         output2: set-variable
                #         output3: set-variable
                #         parameters2: var=VAR_xferloop and value=1
                #         parameters1: loopid=VAR_panoramacapture+VAR_loopid_panorama and vol=1.0
                #         input: midicontroller
                #         parameters3: var=VAR_xferidx and                                          value=VAR_panoramacapture+VAR_loopid_panorama
                #         conditions: controlnum=VAR_noterange and controlval=VAR_switch_on
        -
            name: graphics
            children:
                -
                    name: layout
                    attributes:
                        #background: '#88FF00FF'
                        label: 0
                        id: 0
                        name: panorama
                        pos: 0.00,0.00
                        elabel: 0
                        #show: 0
                        namepos: 0.02,0.02
                        scale: 1,1
                    children:
                      {% for y in range(3) %}
                        {% for x in range(4) %}
                        -
                            name: element
                            attributes:
                                loopsize: 0.25
                                id: {{ y*16 + x }}
                                name: {{ y*16 + x }}
                                base: {{ '%.2f' | format(x/4) }},{{ '%.2f' | format(y/4) }}
                                # looppos: {{ "%.2f" | format( (x + 0.5)/10) }},{{ "%.2f" | format((y + 0.5)/10) }}
                                looppos: 0.125,0.125
                                #namepos: {{ "%.2f" | format((x + 0.5)/10) }},{{ "%.2f" | format(y/10) }}
                                #background: '#8800FFFF'
                                namepos: 0,0, 0.1,0.1
                            children:
                                -
                                    name: box
                                    attributes:
                                        #pos: 0.{{ x }},0.{{ y }}, {{ "%.2f" | format((x + 1)/10) }},{{ "%.2f" | format((y + 1)/10) }}
                                        pos: 0,0, 0.25,0.25
                                        outline: TBLR

                        {% endfor %}
                      {% endfor %}
