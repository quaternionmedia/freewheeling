---
-
    name: interface
    children:
        -
            name: bindings
            children:
                -
                    name: declare
                    attributes:
                        var: DISPLAY_browser_patch
                        type: int
                        init: 0
                -
                    name: declare
                    attributes:
                        var: DISPLAY_browser_loop
                        type: int
                        init: 1
                -
                    name: declare
                    attributes:
                        var: DISPLAY_browser_scene
                        type: int
                        init: 2
                -
                    name: declare
                    attributes:
                        var: DISPLAY_syncpanel
                        type: int
                        init: 3
                -
                    name: declare
                    attributes:
                        var: VAR_max_browser
                        type: int
                        init: 2
                -
                    name: declare
                    attributes:
                        var: VAR_cur_browser
                        type: int
                        init: 0
                -
                    name: declare
                    attributes:
                        var: DISPLAY_loop_tray
                        type: int
                        init: 10
                -
                    name: declare
                    attributes:
                        var: DISPLAY_scenes
                        type: int
                        init: 2000
                -
                    name: declare
                    attributes:
                        var: VAR_syncpanel_show
                        type: int
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_numsync_per_pulse
                        type: int
                        init: 1
                -
                    name: declare
                    attributes:
                        var: VAR_synctype
                        type: int
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_midisync
                        type: int
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_keyheld_up
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_keyheld_down
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_keyheld_shift
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_keyheld_ctrl
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_keyheld_alt
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_keyheld_space
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_switch_on
                        type: range
                        init: 64>127
                -
                    name: declare
                    attributes:
                        var: VAR_switch_off
                        type: int
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_overdubmode
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_overdubfeedback
                        type: float
                        init: 0.8
                -
                    name: declare
                    attributes:
                        var: VAR_inputs
                        type: range
                        init: 1>4
                -
                    name: declare
                    attributes:
                        var: VAR_zero_keysym
                        type: int
                        init: 48
                -
                    name: declare
                    attributes:
                        var: VAR_snaps
                        type: range
                        init: 1>9
                -
                    name: declare
                    attributes:
                        var: VAR_snapid_last1
                        type: int
                        init: -1
                -
                    name: declare
                    attributes:
                        var: VAR_snapid_last2
                        type: int
                        init: -1
                -
                    name: declare
                    attributes:
                        var: VAR_switch_metronome
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_cutmode
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_shotmode
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_xferloop
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_xferidx
                        type: int
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_develmode
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_auto_loop_save
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_laptopkeymode
                        type: char
                        init: 1
                -
                    name: declare
                    attributes:
                        var: VAR_videofullscreen
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_showdebuginfo
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_helppage
                        type: char
                        init: 0
                -
                    name: declare
                    attributes:
                        var: VAR_showinterface
                        type: int
                        init: 1
                -
                    name: declare
                    attributes:
                        var: VAR_loopid_default_range
                        type: range
                        init: 600>1000
                -
                    name: declare
                    attributes:
                        var: VAR_slide_speed
                        type: float
                        init: 0.3
                -
                    name: declare
                    attributes:
                        var: VAR_loopamp_adj
                        type: float
                        init: 0.9
                -
                    name: declare
                    attributes:
                        var: VAR_channelrange
                        type: range
                        init: 0>15
                -
                    name: binding
                    attributes:
                        input: start-freewheeling
                        output1: set-auto-loop-saving
                        parameters1: save=VAR_auto_loop_save
                        output2: set-default-loop-placement
                        parameters2: looprange=VAR_loopid_default_range
                        output3: video-switch-interface
                        parameters3: interfaceid=VAR_showinterface
                -
                    name: binding
                    attributes:
                        input: go-sub
                        conditions: sub=100
                        output1: video-show-display
                        parameters1: interfaceid=0 and                                                displayid=VAR_cur_browser and                                                show=0
                        output2: set-variable
                        parameters2: var=VAR_cur_browser and                                           value=param1
                        output3: video-show-display
                        parameters3: interfaceid=0 and                                                displayid=VAR_cur_browser and                                                show=1
                -
                    name: binding
                    attributes:
                        input: go-sub
                        conditions: sub=101
                        output1: trigger-snapshot
                        parameters1: snapid=param1
                        output2: set-variable
                        parameters2: var=VAR_snapid_last2 and value=VAR_snapid_last1
                        output3: set-variable
                        parameters3: var=VAR_snapid_last1 and value=param1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=escape and keydown=1
                        output: exit-freewheeling
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=slash and keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_helppage and                                             maxvalue=SYSTEM_num_help_pages
                        output2: video-show-help
                        parameters2: page=VAR_helppage
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and                                      VAR_keyheld_shift=1 and key=return and                                      keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_showdebuginfo and                                              maxvalue=1
                        output2: show-debug-info
                        parameters2: show=VAR_showdebuginfo
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=enter and keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_showdebuginfo and                                              maxvalue=1
                        output2: show-debug-info
                        parameters2: show=VAR_showdebuginfo
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and                                       key=f3 and keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_videofullscreen and                                             maxvalue=1
                        output2: video-full-screen
                        parameters2: fullscreen=VAR_videofullscreen
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=pause and keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_videofullscreen and                                             maxvalue=1
                        output2: video-full-screen
                        parameters2: fullscreen=VAR_videofullscreen
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and                                       key=f4 and keydown=1
                        output: toggle-disk-output
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=printscreen and keydown=1
                        output: toggle-disk-output
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_ctrl=1 and key=d and keydown=1
                        output: toggle-variable
                        parameters: var=VAR_develmode and maxvalue=1
                -
                    name: binding
                    attributes:
                        input: midikey
                        conditions: notenum=47 and VAR_develmode=1 and keydown=1
                        output: toggle-disk-output
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=d and VAR_develmode=1
                        output: midikey
                        parameters: keydown=keydown and outport=1 and                                    midichannel=0 and                                    notenum=37 and velocity=127
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and                                      key=VAR_snaps+VAR_zero_keysym and                                      keydown=1
                        output: create-snapshot
                        parameters: snapid=key-VAR_zero_keysym-1+SYSTEM_snapshot_page_firstidx
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_ctrl=1 and                                      key=VAR_snaps+VAR_zero_keysym and                                      keydown=1
                        output: go-sub
                        parameters: sub=101 and param1=key-VAR_zero_keysym-1+SYSTEM_snapshot_page_firstidx
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_alt=1 and                                      key=VAR_snaps+VAR_zero_keysym and                                      keydown=1
                        output: rename-snapshot
                        parameters: snapid=key-VAR_zero_keysym-1+SYSTEM_snapshot_page_firstidx
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and                                      key=zero and                                      keydown=1
                        output: create-snapshot
                        parameters: snapid=9+SYSTEM_snapshot_page_firstidx
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_ctrl=1 and                                      key=zero and                                      keydown=1
                        output: go-sub
                        parameters: sub=101 and param1=9+SYSTEM_snapshot_page_firstidx
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_alt=1 and                                      key=zero and                                      keydown=1
                        output: rename-snapshot
                        parameters: snapid=9+SYSTEM_snapshot_page_firstidx
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_ctrl=1 and key=comma and                                       keydown=1
                        output: video-show-snapshot-page
                        parameters: interfaceid=0 and                                                    displayid=DISPLAY_scenes and                                                    page=-1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_ctrl=1 and key=period and                                       keydown=1
                        output: video-show-snapshot-page
                        parameters: interfaceid=0 and                                                    displayid=DISPLAY_scenes and                                                    page=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=comma and                                       keydown=1
                        output: video-show-snapshot-page
                        parameters: interfaceid=0 and                                                    displayid=DISPLAY_scenes and                                                    page=-1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=period and                                       keydown=1
                        output: video-show-snapshot-page
                        parameters: interfaceid=0 and                                                    displayid=DISPLAY_scenes and                                                    page=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_up=1 and                                      key=VAR_inputs+VAR_zero_keysym and                                      keydown=1
                        output: slide-in-volume
                        parameters: input=key-VAR_zero_keysym and                                           slide=VAR_slide_speed
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_down=1 and                                      key=VAR_inputs+VAR_zero_keysym and                                       keydown=1
                        output: slide-in-volume
                        parameters: input=key-VAR_zero_keysym and                                           slide=-VAR_slide_speed
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=VAR_inputs+VAR_zero_keysym and                                      keydown=1
                        output: toggle-input-record
                        parameters: input=key-VAR_zero_keysym
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_alt=1 and key=backslash and keydown=1
                        output: slide-loop-amplifier-stop-all
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and                                       key=semicolon and keydown=1
                        output: slide-master-in-volume
                        parameters: slide=VAR_slide_speed
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and                                      key=backquote and keydown=1
                        output: slide-master-in-volume
                        parameters: slide=-VAR_slide_speed
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=insert and keydown=1
                        output: slide-master-in-volume
                        parameters: slide=VAR_slide_speed
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=delete and keydown=1
                        output: slide-master-in-volume
                        parameters: slide=-VAR_slide_speed
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=backspace and keydown=1
                        output: set-master-in-volume
                        parameters: vol=1.0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and                                       key=squarebracketopen and keydown=1
                        output: slide-master-out-volume
                        parameters: slide=VAR_slide_speed/2
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and                                       key=squarebracketclose and keydown=1
                        output: slide-master-out-volume
                        parameters: slide=-VAR_slide_speed/2
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=home and keydown=1
                        output: slide-master-out-volume
                        parameters: slide=VAR_slide_speed/2
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=end and keydown=1
                        output: slide-master-out-volume
                        parameters: slide=-VAR_slide_speed/2
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=backslash and keydown=1
                        output: set-master-out-volume
                        parameters: vol=1.0
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: VAR_keyheld_up=1 and button=1 and down=1
                        output: slide-loop-amplifier
                        parameters: loopid=loopid and                  slide=VAR_slide_speed/2
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: VAR_keyheld_down=1 and button=1 and down=1
                        output: slide-loop-amplifier
                        parameters: loopid=loopid and                  slide=-VAR_slide_speed/2
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: button=4 and VAR_keyheld_ctrl=1
                        output: adjust-selected-loops-amp
                        parameters: setid=0 and ampfactor=1.0/VAR_loopamp_adj
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: button=5 and VAR_keyheld_ctrl=1
                        output: adjust-selected-loops-amp
                        parameters: setid=0 and ampfactor=VAR_loopamp_adj
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: button=4
                        output: adjust-loop-amplifier
                        parameters: loopid=loopid and ampfactor=1.0/VAR_loopamp_adj
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: button=5
                        output: adjust-loop-amplifier
                        parameters: loopid=loopid and ampfactor=VAR_loopamp_adj
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: VAR_keyheld_ctrl=1 and button=1 and down=1
                        output: rename-loop
                        parameters: loopid=loopid and in=in
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: VAR_cutmode=1 and button=1
                        output: set-trigger-volume
                        parameters: loopid=loopid and vol=1.0*down
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and key=comma and                                       keydown=1
                        output: adjust-midi-transpose
                        parameters: adjust=-12
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and key=period and                                      keydown=1
                        output: adjust-midi-transpose
                        parameters: adjust=12
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=KP0 and keydown=1
                        output: adjust-midi-transpose
                        parameters: adjust=-12
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=KPperiod and keydown=1
                        output: adjust-midi-transpose
                        parameters: adjust=12
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=openparen and keydown=1
                        output: set-midi-tuning
                        parameters: tuning=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=zero and keydown=1
                        output: set-midi-tuning
                        parameters: tuning=SYSTEM_cur_pitchbend
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_alt=1 and key=p and keydown=1
                        output: swap-snapshots
                        parameters: snapid1=VAR_snapid_last1 and snapid2=VAR_snapid_last2
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: VAR_keyheld_shift=1 and button=1 and down=1
                        output: toggle-select-loop
                        parameters: setid=0 and loopid=loopid
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: button=3 and down=1
                        output: toggle-select-loop
                        parameters: setid=0 and loopid=loopid
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: VAR_keyheld_space=1 and button=1 and down=1
                        output: erase-loop
                        parameters: loopid=loopid
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: VAR_xferloop=1 and button=1 and down=1
                        output1: move-loop
                        parameters1: oldloopid=VAR_xferidx and                    newloopid=loopid
                        output2: set-variable
                        parameters2: var=VAR_xferloop and value=0
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: VAR_overdubmode=1 and button=1 and down=1
                        output: trigger-loop
                        parameters: overdub=1 and overdubfeedback=VAR_overdubfeedback and                  loopid=loopid and vol=1.0
                -
                    name: binding
                    attributes:
                        input: loop-clicked
                        conditions: button=1 and down=1
                        output: trigger-loop
                        parameters: loopid=loopid and vol=1.0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and VAR_keyheld_shift=1 and                   key=lessthan and keydown=1
                        output: select-only-playing-loops
                        parameters: setid=0 and playing=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and VAR_keyheld_alt=1 and                   key=lessthan and keydown=1
                        output: select-all-loops
                        parameters: setid=0 and select=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and VAR_keyheld_ctrl=1 and                   key=lessthan and keydown=1
                        output: invert-selection
                        parameters: setid=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and key=lessthan and keydown=1
                        output: select-only-playing-loops
                        parameters: setid=0 and playing=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=KPasterisk and keydown=1
                        output: select-only-playing-loops
                        parameters: setid=0 and playing=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_alt=1 and key=KPasterisk and keydown=1
                        output: select-all-loops
                        parameters: setid=0 and select=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_ctrl=1 and key=KPasterisk and keydown=1
                        output: invert-selection
                        parameters: setid=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=KPasterisk and keydown=1
                        output: select-only-playing-loops
                        parameters: setid=0 and playing=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=t and keydown=1
                        output: trigger-selected-loops
                        parameters: setid=0 and vol=1.0 and                                                  toggleloops=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=tab and keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_showinterface and maxvalue=SYSTEM_num_switchable_interfaces and minvalue=1
                        output2: video-switch-interface
                        parameters2: interfaceid=VAR_showinterface
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: SYSTEM_loopid_lastrecord_0=VAR_loopid_footswitch and                   key=u and keydown=1
                        output1: erase-loop
                        parameters1: loopid=SYSTEM_loopid_lastrecord_0
                        output2: set-variable
                        parameters2: var=VAR_xferloop and value=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=space and keydown=1
                        output: erase-selected-loops
                        parameters: setid=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_alt=1 and key=space and keydown=1
                        output: erase-all-loops
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=u and keydown=1
                        output: erase-loop
                        parameters: loopid=SYSTEM_loopid_lastrecord_0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=tilde and keydown=1
                        output: toggle-variable
                        parameters: var=VAR_overdubmode and maxvalue=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=tilde and keydown=1
                        output: toggle-variable
                        parameters: var=VAR_cutmode and maxvalue=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=f9 and keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_auto_loop_save and                                             maxvalue=1
                        output2: set-auto-loop-saving
                        parameters2: save=VAR_auto_loop_save
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=f8 and keydown=1
                        output: save-loop
                        parameters: loopid=SYSTEM_loopid_lastrecord_0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=f7 and                                      keydown=1
                        output: save-new-scene
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=f7 and keydown=1
                        output: save-current-scene
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=f10 and                                       keydown=1
                        output: transmit-playing-loops-to-daw
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=left and keydown=1
                        output: patchbrowser-move-to-bank
                        parameters: direction=-1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=right and keydown=1
                        output: patchbrowser-move-to-bank
                        parameters: direction=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=b and keydown=1
                        output1: video-show-display
                        parameters1: interfaceid=0 and                                                displayid=VAR_cur_browser and                                                show=0
                        output2: toggle-variable
                        parameters2: var=VAR_cur_browser and                                              maxvalue=VAR_max_browser
                        output3: video-show-display
                        parameters3: interfaceid=0 and                                                displayid=VAR_cur_browser and                                                show=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_ctrl=1 and key=return and keydown=1
                        output: browser-rename-item
                        parameters: browserid=VAR_cur_browser
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_cur_browser=DISPLAY_browser_loop and key=return and                   keydown=1
                        output1: set-variable
                        parameters1: var=VAR_xferloop and value=1
                        output2: set-variable
                        parameters2: var=VAR_xferidx and                                          value=VAR_loopid_footswitch
                        output3: browser-select-item
                        parameters3: browserid=VAR_cur_browser
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=return and keydown=1
                        output: browser-select-item
                        parameters: browserid=VAR_cur_browser
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and VAR_laptopkeymode=1 and key=minus                  and keydown=1
                        output: browser-move-to-item
                        parameters: browserid=VAR_cur_browser and                                                adjust=0 and jumpadjust=-1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and VAR_laptopkeymode=1 and key=equal                   and keydown=1
                        output: browser-move-to-item
                        parameters: browserid=VAR_cur_browser and                                                adjust=0 and jumpadjust=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and key=minus and keydown=1
                        output: browser-move-to-item
                        parameters: browserid=VAR_cur_browser and                                                adjust=-1 and jumpadjust=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and key=equal and keydown=1
                        output: browser-move-to-item
                        parameters: browserid=VAR_cur_browser and                                                adjust=1 and jumpadjust=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=KPminus and keydown=1
                        output: browser-move-to-item
                        parameters: browserid=VAR_cur_browser and                                                adjust=0 and jumpadjust=-1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=KPplus and keydown=1
                        output: browser-move-to-item
                        parameters: browserid=VAR_cur_browser and                                                adjust=0 and jumpadjust=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=KPminus and keydown=1
                        output: browser-move-to-item
                        parameters: browserid=VAR_cur_browser and                                                adjust=-1 and jumpadjust=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=KPplus and keydown=1
                        output: browser-move-to-item
                        parameters: browserid=VAR_cur_browser and                                                adjust=1 and jumpadjust=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=f1 and                                       keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_syncpanel_show and                                              maxvalue=1
                        output2: video-show-display
                        parameters2: displayid=DISPLAY_syncpanel and                                                show=VAR_syncpanel_show
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_space=1 and key=f1 and keydown=1
                        output: delete-pulse
                        parameters: pulse=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=f1 and keydown=1
                        output: select-pulse
                        parameters: pulse=0
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=s and keydown=1
                        output1: set-variable
                        parameters1: var=VAR_numsync_per_pulse and value=VAR_numsync_per_pulse+1
                        output2: set-sync-speed
                        parameters2: speed=VAR_numsync_per_pulse
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_ctrl=1 and key=s and keydown=1
                        output1: set-variable
                        parameters1: var=VAR_numsync_per_pulse and value=VAR_numsync_per_pulse-1
                        output2: set-sync-speed
                        parameters2: speed=VAR_numsync_per_pulse
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_alt=1 and key=s and keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_synctype and maxvalue=1
                        output2: set-sync-type
                        parameters2: type=VAR_synctype
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_keyheld_shift=1 and key=f2 and keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_midisync and maxvalue=1
                        output2: set-midi-sync
                        parameters2: midisync=VAR_midisync
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=f2 and keydown=1
                        output: tap-pulse
                        parameters: pulse=0 and newlen=1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and key=f5 and                                       keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_switch_metronome and                                             maxvalue=1
                        output2: switch-metronome
                        parameters2: pulse=0 and                                              metronome=VAR_switch_metronome
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=f11 and keydown=1
                        output1: toggle-variable
                        parameters1: var=VAR_switch_metronome and                                             maxvalue=1
                        output2: switch-metronome
                        parameters2: pulse=0 and                                              metronome=VAR_switch_metronome
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: VAR_laptopkeymode=1 and key=f6 and                                       keydown=1
                        output: select-pulse
                        parameters: pulse=-1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=f12 and keydown=1
                        output: select-pulse
                        parameters: pulse=-1
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=space
                        output: set-variable
                        parameters: var=VAR_keyheld_space and                                         value=keydown
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=up and VAR_keyheld_ctrl=1
                        output1: set-variable
                        parameters1: var=VAR_keyheld_up and                                           value=keydown
                        output2: adjust-selected-loops-amp
                        parameters2: setid=0 and ampfactor=1.0/VAR_loopamp_adj
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=up
                        output: set-variable
                        parameters: var=VAR_keyheld_up and                                         value=keydown
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=down and VAR_keyheld_ctrl=1
                        output1: set-variable
                        parameters1: var=VAR_keyheld_down and                                           value=keydown
                        output2: adjust-selected-loops-amp
                        parameters2: setid=0 and ampfactor=VAR_loopamp_adj
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=down
                        output: set-variable
                        parameters: var=VAR_keyheld_down and                                         value=keydown
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=leftshift
                        output1: set-variable
                        parameters1: var=VAR_keyheld_shift and                                          value=keydown
                        output2: video-show-display
                        parameters2: interfaceid=0 and                                                displayid=DISPLAY_scenes and                                                show=keydown
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=rightshift
                        output1: set-variable
                        parameters1: var=VAR_keyheld_shift and                                          value=keydown
                        output2: video-show-display
                        parameters2: interfaceid=0 and                                                displayid=DISPLAY_scenes and                                                show=keydown
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=leftctrl
                        output1: set-variable
                        parameters1: var=VAR_keyheld_ctrl and                                           value=keydown
                        output2: video-show-display
                        parameters2: interfaceid=0 and                                                displayid=DISPLAY_scenes and                                                show=keydown
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=rightctrl
                        output1: set-variable
                        parameters1: var=VAR_keyheld_ctrl and                                           value=keydown
                        output2: video-show-display
                        parameters2: interfaceid=0 and                                                displayid=DISPLAY_scenes and                                                show=keydown
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=leftalt
                        output: set-variable
                        parameters: var=VAR_keyheld_alt and                                         value=keydown
                -
                    name: binding
                    attributes:
                        input: key
                        conditions: key=rightalt
                        output: set-variable
                        parameters: var=VAR_keyheld_alt and                                         value=keydown
        -
            name: graphics
            children:
                -
                    name: display
                    attributes:
                        var: SYSTEM_midi_transpose
                        type: text
                        font: small
                        title: Xp 
                        pos: 0.0,0.9
                -
                    name: display
                    attributes:
                        var: SYSTEM_audio_cpu_load/100
                        type: bar
                        font: main
                        title: CPU
                        pos: 0.05,0.8
                        orientation: vertical
                        barscale: 0.3
                        thickness: 0.03
                -
                    name: display
                    attributes:
                        var: SYSTEM_master_in_volume
                        type: bar
                        font: main
                        title: IN
                        pos: 0.245,0.8
                        orientation: vertical
                        barscale: 0.3
                        thickness: 0.07
                        dbscale: 1
                        marks: 1
                -
                    name: display
                    attributes:
                        var: SYSTEM_in_1_volume
                        type: bar-switch
                        switchvar: SYSTEM_in_1_record
                        orientation: vertical
                        pos: 0.20,0.8
                        barscale: 0.3
                        thickness: 0.025
                        dbscale: 1
                -
                    name: display
                    attributes:
                        var: SYSTEM_in_2_volume
                        type: bar-switch
                        switchvar: SYSTEM_in_2_record
                        orientation: vertical
                        pos: 0.23,0.8
                        barscale: 0.3
                        thickness: 0.025
                        dbscale: 1
                -
                    name: display
                    attributes:
                        var: SYSTEM_in_3_volume
                        type: bar-switch
                        switchvar: SYSTEM_in_3_record
                        orientation: vertical
                        pos: 0.26,0.8
                        barscale: 0.3
                        thickness: 0.025
                        dbscale: 1
                -
                    name: display
                    attributes:
                        var: SYSTEM_in_4_volume
                        type: bar-switch
                        switchvar: SYSTEM_in_4_record
                        orientation: vertical
                        pos: 0.29,0.8
                        barscale: 0.3
                        thickness: 0.025
                        dbscale: 1
                -
                    name: display
                    attributes:
                        var: SYSTEM_in_1_peak
                        type: bar-switch
                        switchvar: SYSTEM_in_1_record
                        orientation: vertical
                        pos: 0.20,0.8
                        barscale: 0.3
                        thickness: 0.015
                        color: 2
                        calibrate: 0.9
                        dbscale: 1
                -
                    name: display
                    attributes:
                        var: SYSTEM_in_2_peak
                        type: bar-switch
                        switchvar: SYSTEM_in_2_record
                        orientation: vertical
                        pos: 0.23,0.8
                        barscale: 0.3
                        thickness: 0.015
                        color: 2
                        calibrate: 0.9
                        dbscale: 1
                -
                    name: display
                    attributes:
                        var: SYSTEM_in_3_peak
                        type: bar-switch
                        switchvar: SYSTEM_in_3_record
                        orientation: vertical
                        pos: 0.26,0.8
                        barscale: 0.3
                        thickness: 0.015
                        color: 2
                        calibrate: 0.9
                        dbscale: 1
                -
                    name: display
                    attributes:
                        var: SYSTEM_in_4_peak
                        type: bar-switch
                        switchvar: SYSTEM_in_4_record
                        orientation: vertical
                        pos: 0.29,0.8
                        barscale: 0.3
                        thickness: 0.015
                        color: 2
                        calibrate: 0.9
                        dbscale: 1
                -
                    name: display
                    attributes:
                        var: SYSTEM_master_out_volume
                        type: bar
                        font: main
                        title: OUT
                        pos: 0.45,0.8
                        orientation: vertical
                        barscale: 0.3
                        thickness: 0.03
                        dbscale: 1
                        marks: 1
                -
                    name: display
                    attributes:
                        var: SYSTEM_cur_limiter_gain
                        type: bar
                        font: main
                        title: LMT
                        pos: 0.6,0.8
                        orientation: vertical
                        barscale: 0.3
                        thickness: 0.03
                        dbscale: 1
                        marks: 1
                -
                    name: display
                    attributes:
                        var: VAR_overdubfeedback
                        type: bar
                        font: main
                        title: FBK
                        pos: 0.75,0.8
                        orientation: vertical
                        barscale: 0.3
                        thickness: 0.03
                -
                    name: display
                    attributes:
                        var: SYSTEM_num_recording_loops_in_map
                        type: circle-switch
                        pos: 0.95,0.815
                        size1: 0.02
                        size0: 0.01
                        flash: 0
                -
                    name: display
                    attributes:
                        var: SYSTEM_fluidsynth_enabled
                        type: switch
                        font: small
                        pos: 0.895,0.64
                        title: SYNTH
                -
                    name: display
                    attributes:
                        var: VAR_auto_loop_save
                        type: switch
                        font: small
                        pos: 0.914,0.68
                        title: SAVE
                -
                    name: display
                    attributes:
                        var: VAR_xferloop
                        type: switch
                        font: small
                        pos: 0.925,0.6
                        title: XFR
                -
                    name: display
                    attributes:
                        var: VAR_overdubmode
                        type: switch
                        font: small
                        pos: 0.925,0.72
                        title: DUB
                -
                    name: display
                    attributes:
                        var: VAR_cutmode
                        type: switch
                        font: small
                        pos: 0.925,0.76
                        title: CUT
                -
                    name: display
                    attributes:
                        id: DISPLAY_syncpanel
                        show: 0
                        type: panel
                        font: small
                        title: Sync Panel
                        pos: 0.69,0.5
                        size: 0.3,0.17
                    children:
                        -
                            name: display
                            attributes:
                                var: VAR_numsync_per_pulse
                                id: 1000
                                type: text
                                font: small
                                title: sync 
                                pos: 0.0,0.07
                        -
                            name: display
                            attributes:
                                var: VAR_synctype
                                id: 1001
                                type: text-switch
                                font: small
                                pos: 0.1,0.07
                                text0: bars per pulse
                                text1: beats per pulse
                        -
                            name: display
                            attributes:
                                var: SYSTEM_sync_active
                                id: 1002
                                type: circle-switch
                                font: small
                                title: Jack Sync
                                pos: 0.02,0.12
                                size1: 0.012
                                size0: 0.01
                                flash: 0
                        -
                            name: display
                            attributes:
                                var: SYSTEM_sync_transmit
                                id: 1003
                                type: circle-switch
                                font: small
                                title: Jack Sync XMit
                                pos: 0.02,0.16
                                size1: 0.012
                                size0: 0.01
                                flash: 0
                        -
                            name: display
                            attributes:
                                var: SYSTEM_midisync_transmit
                                id: 1004
                                type: circle-switch
                                font: small
                                title: MIDI Sync Xmit
                                pos: 0.02,0.20
                                size1: 0.012
                                size0: 0.01
                                flash: 0
                -
                    name: display
                    attributes:
                        interfaceid: 0
                        id: DISPLAY_scenes
                        show: 0
                        type: snapshots
                        font: small
                        pos: 0.69,0.15
                        size: 0.3,0.22
                        title: SNAPS
